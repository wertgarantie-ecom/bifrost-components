(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{129:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="# Policy Selection Component\n\nThe policy selection component lets the user choose between different variants of a product that Wertgarantie offers.\nIt is supposed to be embedded in a product details page in an online shop as an additional option to put into the user's shopping cart.\n\nThe HTML structure of the component is not modifiable by an online shop, but it can provide a custom styling and set several CSS properties that are applied to the corresponding parts.\n\nBefore getting into the styling part, let's take a look at the structure.\n\n## Component's Structure\nThe component is divided into three sections\n* head-section\n* product-details\n* product-selection\n\n### Head Section\nThe head section consists of three parts itself, horizontally aligned.\n\n1. The left part is reserved for the checkbox that indicates if the shopper wants an insurance or not.\n2. The middle part consists of a headline, a slot for Wertgarantie's Google rating component, which optionally can be embedded here, and a button that triggers the drop down of the product-details section.\n3. The right part contains price information (payment interval, price, included tax) in its downright corner.\n\n### Product Details\nThe product details are hidden at first and only appear by clicking the button in the header section. This section consists of a list with all the advantages and services that come with a product as well as links to futher product information and business terms, etc.\n\n### Product Selection\nThis section displays buttons for the different products offered. Clicking them updates the details section and the price information in the header section\n\n\n## Embed Selection Component\nThe online shop needs to include Wertgarantie's `selection-embedded.js` - once published there will be a link here - in order to use the custom element `<wertgarantie-policy-selection>` and embed it where it wants to.\n\nHere is an example code:\n\n```\n<wertgarantie-policy-selection\n    class=\"{your-class-name}\"\n    data-fetch-uri=\"https://wertgarantie-bifrost.herokuapp.com/wertgarantie/policies\"\n    data-device-id=\"1234\"\n    data-device-price=\"12\">\n\n</wertgarantie-policy-selection>\n<script>window.wertgarantieSelectionPopUpOpen()<\/script>\n```\nBe aware that the selection component is not directly visible (it's even not defined) and must be opened by calling `window.wertgarantieSelectionPopUpOpen()`.\nNotice, that in order to fetch data from the Wertgarantie server, as a shop you need to provide its uri as `data-fetch-uri` as well as the shop's product's price and device id with `data-device-price` and `data-device-id`, so the server can return the insurance product(s).\n\n## Custom Styling\n\nIn order to style the selection component, you can provide a class and set various CSS properties in that class which we'll cover in this section.\n\n### Across component CSS properties\nThe following CSS properties can be set for the whole component:\n\n* `--wertgarantie-selection-font-family`\n* `--wertgarantie-selection-container-max-width`\n* `--wertgarantie-selection-container-font-weight`\n* `--wertgarantie-selection-container-font-size`\n* `--wertgarantie-selection-container-text-color`\n* `--wertgarantie-selection-container-background-color`\n\n### Head Section CSS Properties\nThese properties overwrite the previous values for the head section:\n\n* `--wertgarantie-selection-head-section-text-color`\n* `--wertgarantie-selection-head-section-background-image`\n\n### Headline\nThe headline itself can also be styled differently:\n\n* `--wertgarantie-selection-title-font-family`\n* `--wertgarantie-selection-title-font-weight`\n* `--wertgarantie-selection-title-font-size`\n* `--wertgarantie-selection-title-text-transform`\n\n### Show Details Button\n\n* `--wertgarantie-selection-show-details-button-font-size`\n* `--wertgarantie-selection-show-details-button-font-weight`\n* `--wertgarantie-selection-show-details-button-text-color`\n* `--wertgarantie-selection-show-details-button-arrow-color`\n\n### List item in the product details\n\n* `--wertgarantie-selection-advantage-included-text-color`\n* `--wertgarantie-selection-advantage-excluded-text-color`\n* `--wertgarantie-selection-advantage-margin`\n* `--wertgarantie-selection-advantage-font-size`\n* `--wertgarantie-selection-advantage-included-icon-color`\n* `--wertgarantie-selection-advantage-excluded-icon-color`\n\n### Document link\n\n* `--wertgarantie-selection-product-info-link-color`\n\n### Product Selection Button Header\n\n* `--wertgarantie-selection-button-header-color`"},267:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(14),__webpack_require__(21),__webpack_require__(22),__webpack_require__(63),__webpack_require__(66),__webpack_require__(13),__webpack_require__(119),__webpack_require__(149),__webpack_require__(268),__webpack_require__(122),__webpack_require__(18),__webpack_require__(123),__webpack_require__(12),__webpack_require__(60),__webpack_require__(172),__webpack_require__(47),__webpack_require__(19),__webpack_require__(15),__webpack_require__(17),__webpack_require__(173);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _wrapNativeSuper(Class){var _cache="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(Class){function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}if(null===Class||!function _isNativeFunction(fn){return-1!==Function.toString.call(fn).indexOf("[native code]")}(Class))return Class;if("function"!=typeof Class)throw new TypeError("Super expression must either be null or a function");if(void 0!==_cache){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}return Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,Class)})(Class)}function _construct(){return(_construct=function isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(Parent,args,Class){var a=[null];a.push.apply(a,args);var instance=new(Function.bind.apply(Parent,a));return Class&&_setPrototypeOf(instance,Class.prototype),instance}).apply(null,arguments)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}!function(){var template=document.createElement("template");template.innerHTML='\n        <style>\n            :host {\n                display: inline-block;\n            }\n            \n            .rating {\n                font-family: var(--wertgarantie-rating-font-family, Roboto), sans-serif;\n                font-size: var(--wertgarantie-rating-font-size, 16px);\n            }\n\n            .rating__number {\n                color: var(--wertgarantie-rating-text-color, #2574be);\n                font-weight: var(--wertgarantie-rating-font-weight, 400)\n            }\n            \n            .rating__stars {\n                --rating: 1.3;\n                --star-empty: #d3dbdb;\n                --star-filled: var(--wertgarantie-rating-stars-color, #ee8a18);\n                --percent: calc(var(--rating) / 5 * 100%);\n                display: inline-block;\n                font-family: Arial, serif; /* make sure ★ appears correctly */\n                background: linear-gradient(90deg, var(--star-filled) var(--percent), var(--star-empty) var(--percent));\n                -webkit-background-clip: text;\n                -webkit-text-fill-color: transparent;\n                letter-spacing: 3px;\n                font-size: var(--wertgarantie-rating-stars-font-size, inherit);\n            }\n\n            .rating__link {\n                color: var(--wertgarantie-rating-text-color, #2574be);\n                text-decoration: none;\n                font-weight: var(--wertgarantie-rating-font-weight, 400);\n            }\n\n        </style>\n        <div class="rating">\n            <span class="rating__number" id="rating"></span>\n            <div class="rating__stars" id="wertgarantie-rating-stars"></div>\n            <a target="_blank" class="rating__link"></a>\n        </div>';var WertgarantieRating=function(_HTMLElement){function WertgarantieRating(){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,WertgarantieRating),(_this=function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}(this,_getPrototypeOf(WertgarantieRating).call(this))).attachShadow({mode:"open"}),_this.shadowRoot.appendChild(template.content.cloneNode(!0)),_this.container=_this.shadowRoot.querySelector(".rating"),_this.ratingSpan=_this.shadowRoot.querySelector(".rating__number"),_this.ratingStarsDiv=_this.shadowRoot.querySelector(".rating__stars"),_this.ratingLink=_this.shadowRoot.querySelector(".rating__link"),_this.updateDisplay=_this.updateDisplay.bind(_assertThisInitialized(_this)),_this.overwriteWithUserDefinedAttributes=_this.overwriteWithUserDefinedAttributes.bind(_assertThisInitialized(_this)),_this.checkIfRatingDefined=_this.checkIfRatingDefined.bind(_assertThisInitialized(_this)),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(WertgarantieRating,_wrapNativeSuper(HTMLElement)),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(WertgarantieRating,[{key:"connectedCallback",value:function connectedCallback(){var _this2=this,addIfDefined=function(object,name,property){property&&(object[name]=property)},displayData={};addIfDefined(displayData,"rating",this.getAttribute("data-rating")),addIfDefined(displayData,"text",this.getAttribute("data-text")),addIfDefined(displayData,"uri",this.getAttribute("data-uri")),addIfDefined(displayData,"ratingsTotal",this.getAttribute("data-ratings-total")),addIfDefined(displayData,"showRatingNumber","false"!==this.getAttribute("data-show-rating-number"));var fetchData={};addIfDefined(fetchData,"fetchUri",this.getAttribute("data-fetch-uri")),this.allDisplayDataAvailable(displayData)?this.updateDisplay(displayData):this.fetchRating(fetchData.fetchUri).then(function(fetchedValues){return _this2.overwriteWithUserDefinedAttributes(fetchedValues,displayData)}).then(this.checkIfRatingDefined).then(this.updateDisplay)}},{key:"allDisplayDataAvailable",value:function allDisplayDataAvailable(displayData){return displayData.rating&&displayData.text&&displayData.ratingsTotal&&displayData.uri}},{key:"fetchRating",value:(_fetchRating=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}var gen=fn.apply(self,args);_next(void 0)})}}(regeneratorRuntime.mark(function _callee(fetchUri){var response;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(fetchUri){_context.next=3;break}throw this.remove(),new Error("fetch data and display data incomplete\nfetchUri: "+fetchUri);case 3:return _context.prev=3,_context.next=6,fetch(fetchUri);case 6:if(200===(response=_context.sent).status){_context.next=10;break}return console.error("fetch failed:",response),_context.abrupt("return",{});case 10:return _context.next=12,response.json();case 12:return _context.abrupt("return",_context.sent);case 15:return _context.prev=15,_context.t0=_context.catch(3),console.error("Error:",_context.t0),_context.abrupt("return",{});case 19:case"end":return _context.stop()}},_callee,this,[[3,15]])})),function fetchRating(){return _fetchRating.apply(this,arguments)})},{key:"overwriteWithUserDefinedAttributes",value:function overwriteWithUserDefinedAttributes(fetchedValues,definedAttributes){return function merge(object1,object2){return function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?ownKeys(source,!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))});return target}({},object1,{},object2)}(fetchedValues,definedAttributes)}},{key:"checkIfRatingDefined",value:function checkIfRatingDefined(displayData){if(this.allDisplayDataAvailable(displayData))return displayData;throw this.remove(),new Error("display data incomplete")}},{key:"updateDisplay",value:function updateDisplay(_ref){var rating=_ref.rating,uri=_ref.uri,ratingsTotal=_ref.ratingsTotal,text=_ref.text,showRatingNumber=_ref.showRatingNumber;rating=Math.round(10*rating)/10,this.ratingStarsDiv.innerText="★★★★★",showRatingNumber&&(this.ratingSpan.innerText=rating),this.ratingStarsDiv.style.setProperty("--rating",rating),uri&&this.ratingLink.setAttribute("href",uri),text&&(this.ratingLink.innerText=ratingsTotal+" "+text)}}]),WertgarantieRating;var _fetchRating}();window.customElements.define("wertgarantie-rating",WertgarantieRating)}()},275:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a='# Wertgarantie\'s Product Selection Pop Up\n\nThis web component can be used to embed Wertgarantie\'s product selection pop up into any website.\n\n* [Install / Include](#install)\n* [Configuration](#configure-the-selection-popup)\n* [Styling](#styling)\n\n## Install\nInclude this package either via npm:\n\n```\nnpm install wertgarantie-selection-popup\n```\n\nOr directly include it into your web page\n```html\n<script src="https://cdn.jsdelivr.net/npm/wertgarantie-selection-popup/dist/selection-popup.min.js" type="text/javascript">\n```\n\nOnce the JavaScript file is included the following tag is available\n```html\n<wertgarantie-selection-pop-up></wertgarantie-selection-pop-up>\n```\n\n## Configure the selection popup\n\n### Fetch Data\nThe popup component currently shows data only if a `data-fetch-uri` is set as an attribute. The component will fetch a JSON object from this server.\nIt also needs the attributes `deviceClass` and `devicePrice` which can be set via the attributes within the html tag or via JavaScript\n```javascript\ndocument.querySelector(\'wertgarantie-selection-pop-up\').deviceClass = ${deviceClass};\ndocument.querySelector(\'wertgarantie-selection-pop-up\').devicePrice = ${devicePrice};\n```\n\n<button class="example-button" onclick="openPopup(\'basic-popup\')">Click me to see the default popup</button>\n\n<wertgarantie-selection-pop-up \n        id="basic-popup"\n        data-fetch-uri="https://wertgarantie-bifrost.herokuapp.com/wertgarantie/dummyPolicies"\n        data-device-class="1dfd4549-9bdc-4285-9047-e5088272dade"\n        data-device-price="800">\n</wertgarantie-selection-pop-up>\n\n```html\n<wertgarantie-selection-pop-up \n        data-fetch-uri="https://wertgarantie-bifrost.herokuapp.com/wertgarantie/dummyPolicies"\n        data-device-class="1dfd4549-9bdc-4285-9047-e5088272dade"\n        data-device-price="800">\n</wertgarantie-selection-pop-up>\n```\n\n## Styling\nThe component can be styled by providing a stylesheet with CSS properties. Available properties are the following:\n* general styling:\n    * `--wertgarantie-popup-font-family`\n    * `--wertgarantie-popup-background-color`\n* button colors\n    * `--wertgarantie-popup-light-button-background-color`\n    * `--wertgarantie-popup-light-button-text-color`\n    * `--wertgarantie-popup-dark-button-background-color`\n    * `--wertgarantie-popup-dark-button-text-color`\n* background image color fading for every second product\n    * `--wertgarantie-popup-product-background-even`\n* background image color fading for every second product\n    * `--wertgarantie-popup-product-background-odd`\n* text color of advantages that are included and excluded\n    * `--wertgarantie-selection-advantage-included-text-color`\n    * `--wertgarantie-selection-advantage-excluded-text-color`\n\n\n### Example\n\nProvide a css file with the following code:\n\n```css\n.example {\n    /* general styling */\n    --wertgarantie-popup-font-family: Tahoma, Geneva, sans-serif;\n    --wertgarantie-popup-background-color: rgb(213, 214, 116);\n\n    /* button colors */\n    --wertgarantie-popup-light-button-background-color: rgb(254, 255, 208);\n    --wertgarantie-popup-light-button-text-color: rgb(37, 37, 37);\n    --wertgarantie-popup-dark-button-background-color: rgb(37, 37, 37);\n    --wertgarantie-popup-dark-button-text-color: rgb(254, 255, 208);\n\n    /* background image color fading for every second product */\n    --wertgarantie-popup-product-background-even:\n        linear-gradient(to bottom right, rgba(0,0,0,0), #000),\n        linear-gradient(to top right, rgb(192, 137, 17), rgba(81,61,61,0));\n\n    /* background image color fading for every second product */\n    --wertgarantie-popup-product-background-odd:\n        linear-gradient(to bottom right, rgba(81,61,61,0), rgba(190, 70, 0, 0.6)),\n        linear-gradient(to top right, rgba(0,0,0,0), #000);\n\n    /* text color of advantages that are included and excluded */ \n    --wertgarantie-selection-advantage-included-text-color: inherit;\n    --wertgarantie-selection-advantage-excluded-text-color: rgb(180, 180, 147);\n}\n```\n\n<wertgarantie-selection-pop-up id="popup-styling-example"\n        class="example2"\n        data-fetch-uri="https://wertgarantie-bifrost.herokuapp.com/wertgarantie/dummyPolicies"\n        data-device-class="1dfd4549-9bdc-4285-9047-e5088272dade"\n        data-device-price="800">\n    <wertgarantie-rating \n        data-fetch-uri="https://wertgarantie-bifrost.herokuapp.com/wertgarantie/rating"\n        data-show-rating-number="false"\n        slot="wertgarantie-rating-component">\n    </wertgarantie-rating>\n</wertgarantie-selection-pop-up>\n\n```html\n<wertgarantie-selection-pop-up\n        class="example"\n        data-fetch-uri="https://wertgarantie-bifrost.herokuapp.com/wertgarantie/dummyPolicies"\n        data-device-class="1dfd4549-9bdc-4285-9047-e5088272dade"\n        data-device-price="800">\n    <wertgarantie-rating \n        data-fetch-uri="https://wertgarantie-bifrost.herokuapp.com/wertgarantie/rating"\n        data-show-rating-number="false"\n        slot="wertgarantie-rating-component">\n    </wertgarantie-rating>\n</wertgarantie-selection-pop-up>\n```\n<button class="example-button" onclick="openPopup(\'popup-styling-example\')">Click me to see the styling example</button>'},276:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a='# Wertgarantie\'s Google rating component\n\nThis web component can be used to embed Wertgarantie\'s google rating into any website.\n\n* [Install / Include](#install)\n* [Configuration](#configure-the-rating-component)\n* [Styling](#styling)\n\n## Install\nInclude this package either via npm:\n\n```\nnpm install wertgarantie-rating\n```\n\nOr directly include it into your web page\n```html\n<script src="https://cdn.jsdelivr.net/npm/wertgarantie-rating/dist/rating.min.js" type="text/javascript">\n```\n\nOnce the JavaScript file is included the following tag is available\n```html\n<wertgarantie-rating></wertgarantie-rating>\n```\n\n## Configure the rating component\n\nThe component behaves different depending on what attibutes are provided when included.\n\n### Fetch Data\nIf you want to fetch the real google ratings from Wertgarantie\'s backend for frontend `Bifröst`, you need to set the `data-fetch-uri` attribute like in the following example:\n\n<wertgarantie-rating data-fetch-uri="https://wertgarantie-bifrost.herokuapp.com/wertgarantie/rating"></wertgarantie-rating>\n\n```html\n<wertgarantie-rating data-fetch-uri="https://wertgarantie-bifrost.herokuapp.com/wertgarantie/rating"></wertgarantie-rating>\n```\n\n### Provide data manually\nAnother way to configure the component is to provide all of the following three attributes:\n* data-text (e. g. "Reviews on Google")\n* data-ratings-total (e. g. 5000)\n* data-uri (the link behind the `data-ratings-total` + `data-text`)\n* data-rating (the rating number itself, e. g. 3.5)\n\n<wertgarantie-rating data-text="Reviews on Google"\n                     data-ratings-total="5000"\n                     data-uri="https://www.google.de/"\n                     data-rating="3.5">\n</wertgarantie-rating>\n\n```html\n<wertgarantie-rating data-text="Reviews on Google"\n                     data-ratings-total="5000"\n                     data-uri="https://www.google.de/"\n                     data-rating="3.5">\n</wertgarantie-rating>\n```\n\n### Noteworthy\n<strong>Note</strong> that you either have to provide `data-fetch-uri` or <i>all</i> four attributes for manual data providing\n\nThe attribute `data-show-rating-number` can be set to false in order to hide the number and just show the stars:\n<wertgarantie-rating data-fetch-uri="https://wertgarantie-bifrost.herokuapp.com/wertgarantie/rating" data-show-rating-number="false"></wertgarantie-rating>\n```html\n<wertgarantie-rating data-fetch-uri="https://wertgarantie-bifrost.herokuapp.com/wertgarantie/rating"\n                     data-show-rating-number="false">\n</wertgarantie-rating>\n```\n\n## Styling\nThe component can be styled by providing a stylesheet with CSS properties. Available properties are the following:\n* `--wertgarantie-rating-font-family`\n* `--wertgarantie-rating-font-size`\n* `--wertgarantie-rating-font-weight` \n* `--wertgarantie-rating-text-color`\n* `--wertgarantie-rating-stars-font-size`\n* `--wertgarantie-rating-stars-color`\n\n### Example\n\nProvide a css file with the following code:\n\n```css\n.example {\n    --wertgarantie-rating-font-family: "Comic Sans MS", sans-serif;\n    --wertgarantie-rating-font-size: 1.8rem;\n    --wertgarantie-rating-font-weight: 800;\n    --wertgarantie-rating-text-color: rgb(134, 134, 134);\n    \n    --wertgarantie-rating-stars-font-size: 30px;\n    --wertgarantie-rating-stars-color: green;\n}\n```\n<wertgarantie-rating class="example" \n                     data-fetch-uri="https://wertgarantie-bifrost.herokuapp.com/wertgarantie/rating">\n</wertgarantie-rating>\n```html\n<wertgarantie-rating class="example"\n                     data-fetch-uri="https://wertgarantie-bifrost.herokuapp.com/wertgarantie/rating">\n</wertgarantie-rating>\n```\n'},277:function(module,exports,__webpack_require__){__webpack_require__(278),__webpack_require__(386),module.exports=__webpack_require__(387)},299:function(module,exports){},387:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(13),__webpack_require__(12),__webpack_require__(15),__webpack_require__(17);var _storybook_html__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(49),req=__webpack_require__(583);Object(_storybook_html__WEBPACK_IMPORTED_MODULE_4__.configure)(function loadStories(){req.keys().forEach(function(filename){return req(filename)})},module)}.call(this,__webpack_require__(98)(module))},583:function(module,exports,__webpack_require__){var map={"./popup.stories.js":584,"./rating.stories.js":590,"./selection.stories.js":591};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=583},584:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_html__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(49),_documentation_popupComponent_popupComponent_md__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__(267),__webpack_require__(585),__webpack_require__(589),__webpack_require__(275)),showdown__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(67),showdown__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(showdown__WEBPACK_IMPORTED_MODULE_5__);showdown__WEBPACK_IMPORTED_MODULE_5___default.a.setFlavor("github");var converter=new showdown__WEBPACK_IMPORTED_MODULE_5___default.a.Converter;Object(_storybook_html__WEBPACK_IMPORTED_MODULE_0__.storiesOf)("Components|Pop-Up",module).add("Popup default",function(){return'\n    <wertgarantie-selection-pop-up id="selection"\n        data-fetch-uri="https://wertgarantie-bifrost.herokuapp.com/wertgarantie/dummyPolicies"\n        data-device-class="1dfd4549-9bdc-4285-9047-e5088272dade"\n        data-device-price="800">\n    </wertgarantie-selection-pop-up>'}).add("Product Selection Popup",function(){return'<div class="markdown-body">'+converter.makeHtml(_documentation_popupComponent_popupComponent_md__WEBPACK_IMPORTED_MODULE_4__.a)+"</div>"})}.call(this,__webpack_require__(98)(module))},585:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(14),__webpack_require__(21),__webpack_require__(22),__webpack_require__(66),__webpack_require__(13),__webpack_require__(62),__webpack_require__(119),__webpack_require__(122),__webpack_require__(18),__webpack_require__(123),__webpack_require__(12),__webpack_require__(60),__webpack_require__(172),__webpack_require__(47),__webpack_require__(19),__webpack_require__(15),__webpack_require__(17),__webpack_require__(269),__webpack_require__(173);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _wrapNativeSuper(Class){var _cache="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(Class){function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}if(null===Class||!function _isNativeFunction(fn){return-1!==Function.toString.call(fn).indexOf("[native code]")}(Class))return Class;if("function"!=typeof Class)throw new TypeError("Super expression must either be null or a function");if(void 0!==_cache){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}return Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,Class)})(Class)}function _construct(){return(_construct=function isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(Parent,args,Class){var a=[null];a.push.apply(a,args);var instance=new(Function.bind.apply(Parent,a));return Class&&_setPrototypeOf(instance,Class.prototype),instance}).apply(null,arguments)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}!function(){var template=document.createElement("template");template.innerHTML='\n    <style>\n\n        :host {\n            font-family: var(--wertgarantie-popup-font-family, Arial, Helvetica), sans-serif;\n            font-size: 0.8em;\n        }\n\n        .modal {\n            display: none;\n            width: 100%;\n            height: 100%;\n            position: absolute;\n            z-index: 1;\n            top: 0;\n            left: 0;\n            overflow: auto;\n            background-color: rgba(0, 0, 0, 0.3);\n        }\n\n        .content {\n            background-color: var(--wertgarantie-popup-background-color, rgb(244, 244, 244));\n            margin: 5% auto;\n            width: 75%;\n            animation-name: openModal;\n            animation-duration: 1s;\n        }\n\n        @keyframes openModal {\n            from{opacity: 0}\n            to{opacity: 1}\n        }\n\n        .head {\n            padding: 3em 3em 0.5em 3em;\n            display: grid;\n            grid-template-columns: 75% 25%;\n        }\n\n        .head__left {\n            grid-column-start: 1;\n            grid-column-end: 1;\n            display: inline-block;\n            font-size: 0.8em;\n        }\n\n        .head__right {\n            grid-column-start: 2;\n            grid-column-end: 2;\n            position: relative;\n        }\n\n        .head__title {\n            font-size: 1.5em;\n            padding-right: 2em;\n            text-transform: uppercase;\n        }\n        \n        .closeBtn {\n            color: white;\n            background-color: var(--wertgarantie-popup-dark-button-background-color, rgb(32, 32, 32));\n            padding: 0.8em 1.2em 0.8em 1.2em;\n            text-align: center;\n            cursor: pointer;\n            font-size: 1.2em;\n            position: absolute;\n            top: 0;\n            right: 0;\n        }\n\n        .head__subtitle {\n            padding: 3em 0 1.5em 0;\n        }\n\n        .products {\n            display: flex;\n            position: relative;\n        }\n\n        .product {\n            width: 50%;\n            cursor: pointer;\n            -webkit-transition: all 0.6s;\n        }\n\n        .product__head--background {\n            color: white;\n        }\n        \n        .product__head--background-even {\n            --image-link-even: linear-gradient(to top right, #006EFF, rgba(81,61,61,0));\n            background-image: var(--wertgarantie-popup-product-background-even, \n                linear-gradient(to bottom right, rgba(0,0,0,0), #000),\n                linear-gradient(to top right, #006EFF, rgba(81,61,61,0))),\n                var(--image-link-even);\n            background-size: cover;\n        }\n\n        .product__head--background-odd {\n            --image-link-odd: linear-gradient(to top right, rgba(0,0,0,0), #000);\n            background-image: var(--wertgarantie-popup-product-background-odd,\n                linear-gradient(to bottom right, rgba(81,61,61,0), rgba(255, 145, 0, 0.6)),\n                linear-gradient(to top right, rgba(0,0,0,0), #000)),\n                var(--image-link-odd);\n            background-size: cover;\n        }\n\n        .product--selected {\n            opacity: 1;\n            z-index: 3;\n            width: 60%;\n            background-color: #f7f7f7;\n        }\n\n        .product--selected-left {\n            margin-right: -10%;\n        }\n        \n        .product--selected-right {\n            margin-left: -10%;\n        }\n\n        .product--unselected {\n            opacity: 0.2;\n            z-index: 2;\n        }\n\n        .product__base-info {\n            opacity: 1;\n            padding: 2em 3em 2em 3em;\n        }\n\n        .product__base-info--top {\n            display: grid;\n            grid-template-columns: 50% 50%;\n        }\n\n        .product__base-info--top-left {\n            grid-column-start: 1;\n            grid-column-end: 1;\n        }\n\n        .product__base-info--top-right {\n            grid-column-start: 2;\n            grid-column-end: 2;\n            position: relative;\n        }\n\n        .radio-container {\n            top: 0;\n            right: 0;\n            position: absolute;\n        }\n\n        .product__selection {\n            display: none;\n            user-select: none;\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n        }\n\n        .radio-circle {\n            display: inline-block;\n            width: 22px;\n            height: 22px;\n            border-radius: 50%;\n            cursor: pointer;\n            background-color: rgb(70, 70, 70);\n        }\n\n        .product__selection:checked + .radio-circle::after {\n            -moz-osx-font-smoothing: grayscale;\n            -webkit-font-smoothing: antialiased;\n            display: inline-block; \n            font-style: normal;\n            font-variant: normal;\n            text-rendering: auto;\n            font-family: "Font Awesome 5 Free", sans-serif;\n            font-weight: 700;\n            content: "\\F00C";\n            position: absolute;\n            top: 18%;\n            left: 18%;\n        }\n        \n        .product__title {\n            padding-top: 5em;\n            max-width: 75%;\n            text-transform: uppercase;\n            min-height: 3em;\n        }\n\n        .product__advantages {\n            list-style-type: none;\n            padding-left: 1.5em;\n            -webkit-transition: all 0.6s;\n        }\n\n        product__advantages--top3 {\n            padding-left: 2.5em;\n        }\n\n        .product__details {\n            visibility: hidden;\n            opacity: 0;\n            max-height: 0;\n            transition: all 0.4s;\n            transform-origin: left top;\n            transform: scaleY(0);\n        }\n\n        .advantage {\n            font-size: 0.9em;\n            padding-top: 0.9em;\n        }\n\n        .advantage--included {\n            color: var(--wertgarantie-selection-advantage-included-text-color, inherit);\n        }\n\n        .advantage--excluded {\n            color: var(--wertgarantie-selection-advantage-excluded-text-color, rgb(161, 161, 161));\n        }\n\n        .advantage__icon::before {\n            -moz-osx-font-smoothing: grayscale;\n            -webkit-font-smoothing: antialiased;\n            display: inline-block; \n            font-style: normal;\n            font-variant: normal;\n            text-rendering: auto;\n            font-family: "Font Awesome 5 Free", sans-serif;\n            font-weight: 700;\n            margin:0 0.5em 0 -1.5em;\n        }\n\n        .advantage__icon--included::before {\n            content: "\\F00C";\n        }\n\n        .advantage__icon--excluded::before {\n            content: "\\F05E";\n        }\n\n        .product__details-footer {\n            text-align: center;\n            padding: 2em 3em;\n            visibility: hidden;\n            opacity: 0;\n            max-height: 0;\n            transition: height 0.6s;\n            transform-origin: left top;\n            transform: scaleY(0);\n        }\n\n        .product__details--expanded, .product__details-footer--expanded {\n            visibility: visible;\n            opacity: 1;\n            max-height: 100%;\n            transition: all 0.6s;\n            transform: scaleY(1);\n            padding: 0 3em 1.7em 3em;\n        }\n\n        .product__terms {\n            margin-top: 3em;\n            font-size: 0.8em;\n        }\n\n        .product-further-info {\n            text-align: center;\n            padding-top: 1em;\n        }\n\n        .wg-link {\n            text-decoration: none;\n            color: #39f;\n        }\n\n        wg-infosheet-link {\n            font-size: 8px;\n        }\n\n        .award-image-block {\n            display: inline-block;\n            padding: 2em;\n        }\n        \n        .award-image {\n            vertical-align: text-top;\n            max-height: 80px;\n        }\n\n        .button-section {\n            padding: 0 3em 3em 3em;\n            display: flex;\n            justify-content: space-between;\n        }\n\n        .button {\n            font-family: var(--wertgarantie-popup-font-family, Arial, Helvetica), sans-serif;\n            font-size: 0.9em;\n            cursor: pointer;\n            background: none;\n            outline: none;\n            padding: 1.5em 3em 1.5em 3em;\n            border: 2px solid var(--wertgarantie-popup-dark-button-background-color, rgb(32, 32, 32));\n            transition: all 0.4s;\n        }\n\n        .button--dark {\n            background-color: var(--wertgarantie-popup-dark-button-background-color, rgb(32, 32, 32));\n            color: var(--wertgarantie-popup-dark-button-text-color, rgb(244, 244, 244));\n        }\n\n        .button--light {\n            background-color: var(--wertgarantie-popup-light-button-background-color, rgb(244, 244, 244));\n            color: var(--wertgarantie-popup-light-button-text-color, rgb(32, 32, 32));\n        }\n\n        .order-button {\n            display: none;\n        }\n\n        .wg-rating-default {\n            --wertgarantie-rating-font-family: var(--wertgarantie-embedded-rating-font-family, "Open Sans", sans-serif);\n            --wertgarantie-rating-font-size: 0.7rem;\n            --wertgarantie-rating-text-color: rgb(134, 134, 134);\n            \n            --wertgarantie-rating-stars-font-size: 15px;\n            --wertgarantie-rating-stars-color: orange;\n        }\n\n    </style>\n\n    <div class="modal" id="modal">\n        <div class="content">\n            <div class="head">\n                <div class="head__left">\n                    <strong class="head__title">Wird oft dazugebucht</strong>\n                    <wertgarantie-rating \n                        class="wg-rating-default"\n                        data-fetch-uri="https://wertgarantie-bifrost.herokuapp.com/wertgarantie/rating"\n                        data-show-rating-number="false">\n                    </wertgarantie-rating>\n                </div>\n                <div class="head__right">\n                    <span class="closeBtn" id="closeBtn">&times;</span>\n                </div>\n                <p class="head__subtitle">Wählen Sie den Schutz, der Ihren Bedürfnissen am besten entspricht:</p>\n            </div>\n            <section class="products" id="products">\n            </section>\n            <section class="product__details-footer">\n                <div>\n                    <p>Versicherung ist Vertrauenssache, deshalb setzt "PARTNERSHOP" neben <strong>500.000 zufriedener Kunden</strong> auf die <strong>Wertgarantie</strong>, den <strong>Testsieger in Sachen Sicherheit</strong></p>\n                </div>\n                \n                <div class="award-image-block">\n                    <a target="_blank" href="https://www.certipedia.com/quality_marks/9105052129"><img class="award-image" src="https://www.wertgarantie.de/portaldata/4/resources/Icons/tuev-logo.png" alt="tuev-logo"></a>\n                    <a target="_blank" href="https://www.wertgarantie.de/Home.aspx#"><img class="award-image" src="https://www.wertgarantie.de/Portaldata/4/Resources/logos/test-bild-wertgarantie-109-01.png" alt="test-bild"></a>\n                </div>\n            </section>\n            <section class="button-section">\n                <div>\n                    <button class="button button--dark" id="detailsBtn">Details anzeigen</button>\n                </div>\n                <div>\n                    <button class="button button--light" id="cancelOrder">Ich möchte nicht absichern</button>\n                    <button class="button button--dark order-button" id="orderBtn">Beides in den Warenkorb</button>\n                </div>\n            </section>\n        </div>\n    </div>\n    ';var WertgarantieSelectionPopUp=function(_HTMLElement){function WertgarantieSelectionPopUp(){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,WertgarantieSelectionPopUp),(_this=function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}(this,_getPrototypeOf(WertgarantieSelectionPopUp).call(this))).attachShadow({mode:"open"}),_this.shadowRoot.appendChild(template.content.cloneNode(!0)),_this.modal=_this.shadowRoot.querySelector("#modal"),_this.closeBtn=_this.shadowRoot.querySelector("#closeBtn"),_this.productSection=_this.shadowRoot.querySelector("#products"),_this.detailsBtn=_this.shadowRoot.querySelector("#detailsBtn"),_this.productDetailsFooter=_this.shadowRoot.querySelector(".product__details-footer"),_this.orderBtn=_this.shadowRoot.querySelector("#orderBtn"),_this.allDisplayDataAvailable=_this.allDisplayDataAvailable.bind(_assertThisInitialized(_this)),_this.setupDisplay=_this.setupDisplay.bind(_assertThisInitialized(_this)),_this.expandDetailsSections=_this.expandDetailsSections.bind(_assertThisInitialized(_this)),_this.open=_this.open.bind(_assertThisInitialized(_this)),_this.close=_this.close.bind(_assertThisInitialized(_this)),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(WertgarantieSelectionPopUp,_wrapNativeSuper(HTMLElement)),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(WertgarantieSelectionPopUp,[{key:"open",value:function open(){this.modal.style.display="block"}},{key:"close",value:function close(){this.modal.style.display="none"}},{key:"connectedCallback",value:function connectedCallback(){this.closeBtn.addEventListener("click",this.close),this.detailsBtn.addEventListener("click",this.expandDetailsSections),this._upgradeProperty("deviceClass"),this._upgradeProperty("devicePrice");var addIfDefined=function(object,name,property){property&&(object[name]=property)},fetchData={};addIfDefined(fetchData,"devicePrice",this.getAttribute("data-device-price")),addIfDefined(fetchData,"deviceClass",this.getAttribute("data-device-class")),addIfDefined(fetchData,"fetchUri",this.getAttribute("data-fetch-uri")),this.fetchPolicy(fetchData).then(this.allDisplayDataAvailable).then(this.setupDisplay)}},{key:"expandDetailsSections",value:function expandDetailsSections(){this.shadowRoot.querySelectorAll(".product__details").forEach(function(section){section.classList.toggle("product__details--expanded")}),this.productDetailsFooter.classList.toggle("product__details-footer--expanded")}},{key:"_upgradeProperty",value:function _upgradeProperty(prop){if(this[prop]){var value=this[prop];delete this[prop],this[prop]=value}}},{key:"allDisplayDataAvailable",value:function allDisplayDataAvailable(displayData){var isComplete=!0;if(displayData.products.forEach(function(data){data.name&&data.detailsDocText&&data.detailsDocUri&&data.advantages&&data.top_3&&data.excludedAdvantages&&data.infoSheetUri&&data.infoSheetText&&data.paymentInterval&&data.price&&data.currency&&data.priceFormatted&&data.tax||(isComplete=!1)}),!isComplete)throw this.remove(),new Error("display data incomplete");return displayData}},{key:"fetchPolicy",value:(_fetchPolicy=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}var gen=fn.apply(self,args);_next(void 0)})}}(regeneratorRuntime.mark(function _callee(_ref){var fetchUri,devicePrice,deviceClass,url,queryParams,response;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(fetchUri=_ref.fetchUri,devicePrice=_ref.devicePrice,deviceClass=_ref.deviceClass,fetchUri&&devicePrice&&deviceClass){_context.next=4;break}throw this.remove(),new Error("fetch data incomplete\nfetchUri: "+fetchUri+"\ndevicePrice: "+devicePrice+"\ndeviceClass: "+deviceClass);case 4:return _context.prev=4,url=new URL(fetchUri),queryParams={devicePrice:devicePrice,deviceClass:deviceClass},Object.keys(queryParams).forEach(function(key){return url.searchParams.append(key,queryParams[key])}),_context.next=10,fetch(url);case 10:if(200===(response=_context.sent).status){_context.next=14;break}return console.error("fetch failed:",response),_context.abrupt("return",{});case 14:return _context.next=16,response.json();case 16:return _context.abrupt("return",_context.sent);case 19:return _context.prev=19,_context.t0=_context.catch(4),console.error("Error:",_context.t0),_context.abrupt("return",{});case 23:case"end":return _context.stop()}},_callee,this,[[4,19]])})),function fetchPolicy(){return _fetchPolicy.apply(this,arguments)})},{key:"setupDisplay",value:function setupDisplay(displayData){var _this2=this;displayData.products.forEach(function(product,idx){var newProductDiv=document.createElement("div");newProductDiv.classList.add("product"),newProductDiv.innerHTML='\n        <div class="product__head--background">\n            <div class="product__base-info">\n                <div class="product__base-info--top">\n                    <div class="product__base-info--top-left">\n                        <small class="payment-interval">monatlich</small><br/>\n                        <strong class="price-display">ab X,XX €</strong><br/>\n                        <small class="tax-display">(inkl. x,xx€ VerSt**)</small>\n                    </div>\n                    <div class="product__base-info--top-right">\n                        <label class="radio-container">\n                            <input class="product__selection" type="radio" name="product-id"/>\n                            <span class="radio-circle"></span>\n                        </label>\n                    </div>\n                </div>\n                <div class="product__base-info--bottom">\n                    <h3 class="product__title">Smartphone Komplettschutz Basis</h3>\n                    <ul class="product__advantages product__advantages--top3">\n                </div>\n                </ul>\n            </div>\n        </div>\n        <div class="product__details">\n            <h3>Details</h3>\n            <ul class="product__advantages product__advantages--details">\n            </ul>\n            <div class="product__terms">\n                <div>\n                    <p><strong>Bedingungen</strong></p>\n                    <a class="wg-link wg-infosheet-link wg-product-info-sheet" href="http://www.example.com">Informationsblatt zu Versicherungsprodukten</a><br/>\n                    <a class="wg-link wg-infosheet-link wg-avb" href="http://www.example.com">Allgemeine Versicherungsbedingungen</a>\n                </div>\n                <div style="text-align: center; padding-top: 1em;">\n                    <p><strong>Mehr zum <a target="_blank" class="wg-link info-sheet-link">Produkt</a> und der <a target="_blank" class="wg-link" href="http://www.example.com/">Wertgarantie</a>.</strong></p>\n                </div>\n            </div>\n        </div>\n        ',0==idx%2?(product.imageLink&&newProductDiv.querySelector(".product__head--background").style.setProperty("--image-link-even",'url("'+product.imageLink+'")'),newProductDiv.querySelector(".product__head--background").classList.add("product__head--background-even")):(product.imageLink&&newProductDiv.querySelector(".product__head--background").style.setProperty("--image-link-odd",'url("'+product.imageLink+'")'),newProductDiv.querySelector(".product__head--background").classList.add("product__head--background-odd")),newProductDiv.querySelector(".payment-interval").textContent=product.paymentInterval,newProductDiv.querySelector(".price-display").textContent=product.priceFormatted,newProductDiv.querySelector(".tax-display").textContent=product.taxFormatted,newProductDiv.querySelector(".product__title").textContent=product.name,newProductDiv.querySelector(".product__selection").value=product.id,newProductDiv.querySelector(".info-sheet-link").href=product.infoSheetUri,product.top_3.forEach(function(advantage){var listElement=document.createElement("li");listElement.classList.add("advantage","advantage--included");var spanElement=document.createElement("span");spanElement.classList.add("advantage__icon","advantage__icon--included"),spanElement.textContent=advantage,listElement.appendChild(spanElement),newProductDiv.querySelector(".product__advantages--top3").appendChild(listElement)}),product.excludedAdvantages.forEach(function(excludedAdvantage){var listElement=document.createElement("li");listElement.classList.add("advantage","advantage--excluded");var spanElement=document.createElement("span");spanElement.classList.add("advantage__icon","advantage__icon--excluded"),spanElement.textContent=excludedAdvantage,listElement.appendChild(spanElement),newProductDiv.querySelector(".product__advantages--details").appendChild(listElement)}),product.advantages.forEach(function(advantage){var listElement=document.createElement("li");listElement.classList.add("advantage","advantage--included");var spanElement=document.createElement("span");spanElement.classList.add("advantage__icon","advantage__icon--included"),spanElement.textContent=advantage,listElement.appendChild(spanElement),newProductDiv.querySelector(".product__advantages--details").appendChild(listElement)}),newProductDiv.querySelector(".wg-product-info-sheet").setAttribute("href",product.infoSheetUri),newProductDiv.querySelector(".wg-avb").setAttribute("href",product.detailsDocUri),newProductDiv.addEventListener("click",function(){newProductDiv.querySelector(".product__selection").checked?(newProductDiv.querySelector(".product__selection").checked=!1,_this2.restoreHighlighting(newProductDiv)):(newProductDiv.querySelector(".product__selection").checked=!0,_this2.orderBtn.style.display="inline-block",_this2.highlightProduct(newProductDiv))}),newProductDiv.addEventListener("mouseover",function(){_this2.highlightProduct(newProductDiv)}),newProductDiv.addEventListener("mouseleave",function(){_this2.restoreHighlighting()}),_this2.productSection.appendChild(newProductDiv)})}},{key:"highlightProduct",value:function highlightProduct(newProductDiv){var _this3=this;this.productSection.querySelectorAll(".product").forEach(function(productDiv,idx){productDiv.querySelector(".product__selection").value===newProductDiv.querySelector(".product__selection").value?_this3.markAsSelected(productDiv,idx):_this3.markAsUnselected(productDiv)})}},{key:"restoreHighlighting",value:function restoreHighlighting(){var _this4=this,checked=!1;this.productSection.querySelectorAll(".product").forEach(function(productDiv,idx){_this4.markAsUnselected(productDiv),productDiv.querySelector(".product__selection").checked&&(checked=!0,_this4.markAsSelected(productDiv,idx))}),checked||(this.productSection.querySelectorAll(".product").forEach(function(productDiv){productDiv.classList.remove("product--unselected")}),this.orderBtn.style.display="none")}},{key:"markAsSelected",value:function markAsSelected(productDiv,idx){productDiv.classList.remove("product--unselected"),productDiv.classList.add("product--selected"),0==idx%2?productDiv.classList.add("product--selected-left"):productDiv.classList.add("product--selected-right")}},{key:"markAsUnselected",value:function markAsUnselected(productDiv){productDiv.classList.add("product--unselected"),productDiv.classList.remove("product--selected"),productDiv.classList.remove("product--selected-left"),productDiv.classList.remove("product--selected-right")}},{key:"devicePrice",set:function set(devicePrice){this.setAttribute("data-device-price",devicePrice)}},{key:"deviceClass",set:function set(deviceClass){this.setAttribute("data-device-class",deviceClass)}}]),WertgarantieSelectionPopUp;var _fetchPolicy}();window.wertgarantieSelectionPopUpOpen=function(){customElements.get("wertgarantie-selection-pop-up")?document.querySelector("wertgarantie-selection-pop-up").open():customElements.define("wertgarantie-selection-pop-up",WertgarantieSelectionPopUp)}}()},589:function(module,exports){window.wertgarantieSelectionPopUpOpen()},590:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_html__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(49),_documentation_ratingComponent_ratingComponent_md__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(276),showdown__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(67),showdown__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(showdown__WEBPACK_IMPORTED_MODULE_2__);showdown__WEBPACK_IMPORTED_MODULE_2___default.a.setFlavor("github");var converter=new showdown__WEBPACK_IMPORTED_MODULE_2___default.a.Converter;Object(_storybook_html__WEBPACK_IMPORTED_MODULE_0__.storiesOf)("Components|Rating",module).add("Google Rating Component",function(){return'<div class="markdown-body">'+converter.makeHtml(_documentation_ratingComponent_ratingComponent_md__WEBPACK_IMPORTED_MODULE_1__.a)+"</div>"})}.call(this,__webpack_require__(98)(module))},591:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_html__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(49),_documentation_selectionComponent_selectionComponent_md__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(267),__webpack_require__(592),__webpack_require__(129));Object(_storybook_html__WEBPACK_IMPORTED_MODULE_0__.storiesOf)("Components|Selection",module).add("default styling",function(){return' \n        <wertgarantie-policy-selection\n            data-fetch-uri="https://wertgarantie-bifrost.herokuapp.com/wertgarantie/policies"\n            data-device-id="1234"\n            data-device-price="12"\n        >\n        </wertgarantie-policy-selection> '},{notes:{markdown:_documentation_selectionComponent_selectionComponent_md__WEBPACK_IMPORTED_MODULE_3__.a}}).add("external styling 1",function(){return' \n        <wertgarantie-policy-selection\n            class="example-theme1"\n            data-fetch-uri="https://wertgarantie-bifrost.herokuapp.com/wertgarantie/policies"\n            data-device-id="1234"\n            data-device-price="12"\n        >\n            <wertgarantie-rating slot="wertgarantie-rating-component" \n                                 data-fetch-uri="https://wertgarantie-bifrost.herokuapp.com/wertgarantie/rating"\n                                 class="wg-rating-theme1"\n            >\n            </wertgarantie-rating>\n        </wertgarantie-policy-selection> '},{notes:{markdown:_documentation_selectionComponent_selectionComponent_md__WEBPACK_IMPORTED_MODULE_3__.a}}).add("external styling 2",function(){return' \n        <wertgarantie-policy-selection\n            class="example-theme2"\n            data-title="Unser <strong>Komplettschutz</strong> für den Schadensfall"\n            data-fetch-uri="https://wertgarantie-bifrost.herokuapp.com/wertgarantie/policies"\n            data-device-id="1234"\n            data-device-price="12"\n        >\n            <wertgarantie-rating slot="wertgarantie-rating-component" \n                                 data-fetch-uri="https://wertgarantie-bifrost.herokuapp.com/wertgarantie/rating"\n                                 data-show-rating-number="false"\n                                 class="wg-rating-theme2"\n            >\n            </wertgarantie-rating>\n        </wertgarantie-policy-selection> '},{notes:{markdown:_documentation_selectionComponent_selectionComponent_md__WEBPACK_IMPORTED_MODULE_3__.a}})}.call(this,__webpack_require__(98)(module))},592:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(14),__webpack_require__(21),__webpack_require__(22),__webpack_require__(63),__webpack_require__(66),__webpack_require__(13),__webpack_require__(62),__webpack_require__(119),__webpack_require__(149),__webpack_require__(268),__webpack_require__(122),__webpack_require__(18),__webpack_require__(123),__webpack_require__(12),__webpack_require__(60),__webpack_require__(172),__webpack_require__(47),__webpack_require__(19),__webpack_require__(15),__webpack_require__(17),__webpack_require__(269),__webpack_require__(173);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _wrapNativeSuper(Class){var _cache="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(Class){function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}if(null===Class||!function _isNativeFunction(fn){return-1!==Function.toString.call(fn).indexOf("[native code]")}(Class))return Class;if("function"!=typeof Class)throw new TypeError("Super expression must either be null or a function");if(void 0!==_cache){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}return Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,Class)})(Class)}function _construct(){return(_construct=function isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(Parent,args,Class){var a=[null];a.push.apply(a,args);var instance=new(Function.bind.apply(Parent,a));return Class&&_setPrototypeOf(instance,Class.prototype),instance}).apply(null,arguments)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}!function(){var template=document.createElement("template");template.innerHTML='\n        <style>\n            :host {\n                font-family: var(--wertgarantie-selection-font-family, Roboto),sans-serif;\n            }\n            \n            .wg-selection-container {\n                background-color: var(--wertgarantie-selection-container-background-color, white);\n                max-width: var(--wertgarantie-selection-container-max-width, 600px);\n                font-weight: var(--wertgarantie-selection-container-font-weight, 400);\n                font-size: var(--wertgarantie-selection-container-font-size, 16px);\n                color: var(--wertgarantie-selection-container-text-color, #575757);\n            }\n\n            .head-section {\n                background-image: var(--wertgarantie-selection-head-section-background-image, linear-gradient(to right, #f5f5f5, #f5f5f5));\n                color: var(--wertgarantie-selection-head-section-text-color, #2574be);\n                display: grid;\n                grid-template-columns: 12% 60% 28%;\n                padding: 0.7em;\n            }\n\n            .head-section__item {\n                padding-top: 0.5em;\n            }\n\n            .head-section__left {\n                min-width: 100px;\n                grid-column-start: 1;\n                align-self: center;\n                margin: 30%;\n            }\n\n            .head-section__order-checkbox {\n                zoom: 1.3;\n            }\n            \n            .head-section__middle {\n                align-self: center;\n                grid-column-start: 2;\n                grid-column-end: 2;\n                \n            }\n\n            .head-section__right {\n                height: 100%;\n                grid-column-start: 3;\n                grid-column-end: 3;\n                padding-right: 0.7em;\n                position: relative\n            }\n            \n            .price-info {\n                position: absolute;\n                bottom: 0.5em;\n                right: 0.5em;\n                text-align: right;\n            }\n\n            .price-info__small {\n                font-size: 0.6em;\n            }\n            \n            .wg-title {\n                font-family: var(--wertgarantie-selection-title-font-family, inherit),sans-serif;\n                font-weight: var(--wertgarantie-selection-title-font-weight, 400);\n                font-size: var(--wertgarantie-selection-title-font-size, 20px);\n                text-transform: var(--wertgarantie-selection-title-text-transform); \n                margin: 0.3em 0 0 0;\n            }\n\n            .show-details__button {\n                border: none;\n                background: none;\n                outline: none;\n                color: var(--wertgarantie-selection-show-details-button-text-color, inherit);\n                font-size: var(--wertgarantie-selection-show-details-button-font-size);\n                font-weight: var(--wertgarantie-selection-show-details-button-font-weight);\n            }\n\n            .show-details__button:hover {\n                cursor: pointer;\n            }\n            \n            .advantages__icon::before, .show-details__button::before {\n                -moz-osx-font-smoothing: grayscale;\n                -webkit-font-smoothing: antialiased;\n                display: inline-block; \n                font-style: normal;\n                font-variant: normal;\n                text-rendering: auto;\n                margin:0 0.5em 0 -0.4em;\n                font-family: "Font Awesome 5 Free",sans-serif;\n                font-weight: 700;\n            }\n\n            .show-details__button::before {\n                color: var(--wertgarantie-selection-show-details-button-arrow-color, inherit);\n            }\n\n            .show-details__button--expanded::before {\n                content: "\\F102";\n            }\n\n            .show-details__button--collapsed::before {\n                content: "\\F103";\n            }\n\n            .product-details {\n                padding: 0.7em;\n                visibility: hidden;\n                opacity: 0;\n                max-height: 0;\n                transition: all 0.4s;\n                transform-origin: left top;\n                transform: scaleY(0);\n            }\n\n            .product-details--expanded {\n                visibility: visible;\n                opacity: 1;\n                max-height: 100%;\n                transition: all 0.4s;\n                transform: scaleY(1);\n            }\n            \n            .advantages {\n                padding-inline-start: 1.5em;\n                list-style-type: none;\n            }\n\n            .advantages__item {\n                font-size: var(--wertgarantie-selection-advantage-font-size, 13px);\n                line-height: var(--wertgarantie-selection-container-line-height, 21px);\n                margin: var(--wertgarantie-selection-advantage-margin, 0 0 0.3em 0);\n            }\n\n            .advantages__item--included {\n                color: var(--wertgarantie-selection-advantage-included-text-color, #575757);\n            }\n\n            .advantages__item--excluded {\n                color: var(--wertgarantie-selection-advantage-excluded-text-color, lightgrey);\n            }\n        \n            .advantages__icon--included::before {\n                color: var(--wertgarantie-selection-advantage-included-icon-color, #2574be);\n            }\n        \n            .advantages__icon--excluded::before {\n                color: var(--wertgarantie-selection-advantage-excluded-icon-color, lightgrey);\n            }\n            \n            .advantages__icon--check::before {\n                content: "\\F00C";\n            }\n            \n            .advantages__icon--ban::before {\n                content: "\\F05E";\n            }\n\n            .advantages__icon--plus::before {\n                content: "\\F067";\n            }\n            \n            .advantages__icon--pdf::before {\n                content: "\\F1C1";\n            }\n            \n            .product-information__link, .product-information__link:visited {\n                color: var(--wertgarantie-selection-product-info-link-color, #2574be);\n                position: static;\n                text-decoration: none;\n            }\n\n            .product-selection {\n                padding: 0.7em;\n                display: flex;\n                justify-content: space-around;\n            }\n\n            .product-selection__button {\n                border: none;\n                outline: none;\n                width: 40%;\n                margin: 0.4em;\n                padding: 0.6em;\n                font-size: inherit;\n                opacity: 0.4;\n                transition: all 0.6s;\n                color: inherit;\n            }\n\n            .product-selection__button:hover {\n                cursor: pointer;\n            }\n\n            .product-selection__button-header {\n                font-weight: 700;\n                color: var(--wertgarantie-selection-button-header-color, #2574be);\n                border-radius: 10px;\n            }\n\n            .product-selection__button--selected {\n                opacity: 1;\n                box-shadow: 1px 2px 4px rgba(0, 0, 0, .5);\n            }\n        </style>\n\n        <div class="wg-selection-container">\n            <div class="head-section">\n                <div class="head-section__left">\n                    <input type="checkbox" class="head-section__order-checkbox" id="order">\n                </div>\n                <div class="head-section__middle">\n                    <h2 class="wg-title" id="wertgarantie-header"></h2>\n                    <div class="head-section__item" id="information">\n                        <slot name="wertgarantie-rating-component"></slot>\n                    </div>\n                    <div class="show-details head-section__item">\n                        <button class="show-details__button show-details__button--collapsed" id="details-dropdown-button">Details anzeigen</button>\n                    </div>\n                </div>\n                <div class="head-section__right">\n                    <div class="price-info">\n                        <small class="price-info__small" id="payment-interval">pro Monat</small><br/>\n                        <strong id="price-display">ab X,XX €</strong><br/>\n                        <small class="price-info__small" id="tax-display">inkl. x,xx€ VerSt</small>\n                    </div>\n                </div>\n            </div>\n            <div class="product-details" id="product-section">\n                <ul class="advantages" id="wertgarantie-services-list"></ul>\n                <ul class="advantages" id="wertgarantie-advantages-list"></ul>\n                <ul class="advantages">\n                    <li class="advantages__item">\n                        <small class="product-information">\n                            <span class="advantages__icon advantages__icon--included advantages__icon--plus">\n                                <a target="_blank" class="product-information__link" id="product-details-link"></a>\n                            </span>\n                        </small>\n                    </li>\n                    <li class="advantages__item">\n                        <small class="product-information">\n                            <span class="advantages__icon advantages__icon--included advantages__icon--pdf">\n                                <a target="_blank" class="product-information__link" id="product-information-sheet"></a>\n                            </span>\n                        </small>\n                    </li>\n                </ul>\n            </div>\n            <div class="product-selection" id="product-selection">\n            </div>\n        </div>\n    ';var WertgarantiePolicySelection=function(_HTMLElement){function WertgarantiePolicySelection(){var _this;return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,WertgarantiePolicySelection),(_this=function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}(this,_getPrototypeOf(WertgarantiePolicySelection).call(this))).attachShadow({mode:"open"}),_this.shadowRoot.appendChild(template.content.cloneNode(!0)),_this.showDetailsButton=_this.shadowRoot.querySelector("#details-dropdown-button"),_this.productSection=_this.shadowRoot.querySelector("#product-section"),_this.wertgarantieHeader=_this.shadowRoot.querySelector("#wertgarantie-header"),_this.servicesList=_this.shadowRoot.querySelector("#wertgarantie-services-list"),_this.advantagesList=_this.shadowRoot.querySelector("#wertgarantie-advantages-list"),_this.productDetailsLink=_this.shadowRoot.querySelector("#product-details-link"),_this.productInformationSheet=_this.shadowRoot.querySelector("#product-information-sheet"),_this.priceDisplay=_this.shadowRoot.querySelector("#price-display"),_this.taxDisplay=_this.shadowRoot.querySelector("#tax-display"),_this.paymentInterval=_this.shadowRoot.querySelector("#payment-interval"),_this.productSelection=_this.shadowRoot.querySelector("#product-selection"),_this.overwriteWithUserDefinedAttributes=_this.overwriteWithUserDefinedAttributes.bind(_assertThisInitialized(_this)),_this.setupDisplay=_this.setupDisplay.bind(_assertThisInitialized(_this)),_this.createSelectionButton=_this.createSelectionButton.bind(_assertThisInitialized(_this)),_this.updateDisplay=_this.updateDisplay.bind(_assertThisInitialized(_this)),_this.toggleProductSection=_this.toggleProductSection.bind(_assertThisInitialized(_this)),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(WertgarantiePolicySelection,_wrapNativeSuper(HTMLElement)),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(WertgarantiePolicySelection,[{key:"connectedCallback",value:function connectedCallback(){var _this2=this;this.showDetailsButton.addEventListener("click",this.toggleProductSection);var addIfDefined=function(object,name,property){property&&(object[name]=property)};this._upgradeProperty("deviceId"),this._upgradeProperty("devicePrice");var displayData={};addIfDefined(displayData,"title",this.getAttribute("data-title"));var fetchData={};addIfDefined(fetchData,"devicePrice",this.getAttribute("data-device-price")),addIfDefined(fetchData,"deviceId",this.getAttribute("data-device-id")),addIfDefined(fetchData,"fetchUri",this.getAttribute("data-fetch-uri")),this.fetchPolicy(fetchData).then(function(fetchedValues){return _this2.overwriteWithUserDefinedAttributes(fetchedValues,displayData)}).then(this.allDisplayDataAvailable).then(this.setupDisplay)}},{key:"_upgradeProperty",value:function _upgradeProperty(prop){if(this[prop]){var value=this[prop];delete this[prop],this[prop]=value}}},{key:"allDisplayDataAvailable",value:function allDisplayDataAvailable(displayData){var isComplete=!0;if(displayData.products.forEach(function(data){data.name&&data.detailsText&&data.detailsUri&&data.infoSheetUri&&data.infoSheetText&&data.paymentInterval&&data.price&&data.currency&&data.priceFormatted&&data.tax||(isComplete=!1)}),!isComplete)throw this.remove(),new Error("display data incomplete");return displayData}},{key:"fetchPolicy",value:(_fetchPolicy=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}var gen=fn.apply(self,args);_next(void 0)})}}(regeneratorRuntime.mark(function _callee(_ref){var fetchUri,devicePrice,deviceId,url,queryParams,response;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(fetchUri=_ref.fetchUri,devicePrice=_ref.devicePrice,deviceId=_ref.deviceId,fetchUri&&devicePrice&&deviceId){_context.next=4;break}throw this.remove(),new Error("fetch data incomplete\nfetchUri: "+fetchUri+"\ndevicePrice: "+devicePrice+"\ndeviceId: "+deviceId);case 4:return _context.prev=4,url=new URL(fetchUri),queryParams={devicePrice:devicePrice,deviceId:deviceId},Object.keys(queryParams).forEach(function(key){return url.searchParams.append(key,queryParams[key])}),_context.next=10,fetch(url);case 10:if(200===(response=_context.sent).status){_context.next=14;break}return console.error("fetch failed:",response),_context.abrupt("return",{});case 14:return _context.next=16,response.json();case 16:return _context.abrupt("return",_context.sent);case 19:return _context.prev=19,_context.t0=_context.catch(4),console.error("Error:",_context.t0),_context.abrupt("return",{});case 23:case"end":return _context.stop()}},_callee,this,[[4,19]])})),function fetchPolicy(){return _fetchPolicy.apply(this,arguments)})},{key:"overwriteWithUserDefinedAttributes",value:function overwriteWithUserDefinedAttributes(fetchedDisplayData,displayData){return function merge(object1,object2){return function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?ownKeys(source,!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))});return target}({},object1,{},object2)}(fetchedDisplayData,displayData)}},{key:"toggleProductSection",value:function toggleProductSection(){this.showDetailsButton.classList.toggle("show-details__button--expanded")&&(this.showDetailsButton.innerText="Details ausblenden"),this.showDetailsButton.classList.toggle("show-details__button--collapsed")&&(this.showDetailsButton.innerText="Details einblenden"),this.productSection.classList.toggle("product-details--expanded")}},{key:"setupDisplay",value:function setupDisplay(displayData){var _this3=this;displayData.products.forEach(function(product){product.title=displayData.title,_this3.createSelectionButton(product)}),this.productSelection.firstChild.nextSibling.classList.add("product-selection__button--selected"),this.updateDisplay(displayData.products[0])}},{key:"createSelectionButton",value:function createSelectionButton(product){var _this4=this,productButton=document.createElement("button");productButton.classList.add("product-selection__button");var productButtonHeader=document.createElement("p");productButtonHeader.classList.add("product-selection__button-header"),productButtonHeader.textContent=product.name,productButton.appendChild(productButtonHeader);var priceInfoDiv=document.createElement("div");priceInfoDiv.classList.add("price-info__border");var priceSpan=document.createElement("strong");priceSpan.textContent=product.priceFormatted,priceSpan.appendChild(document.createElement("br"));var payInterval=document.createElement("small");payInterval.classList.add("price-info__small"),payInterval.textContent="pro "+product.paymentInterval,priceInfoDiv.appendChild(priceSpan),priceInfoDiv.appendChild(payInterval),productButton.appendChild(priceInfoDiv),productButton.addEventListener("click",function(){_this4.productSelection.querySelectorAll(".product-selection__button").forEach(function(button){return button.classList.remove("product-selection__button--selected")}),productButton.classList.add("product-selection__button--selected"),_this4.updateDisplay(product)}),this.productSelection.appendChild(productButton)}},{key:"updateDisplay",value:function updateDisplay(product){var _this5=this;this.wertgarantieHeader.innerHTML=product.title,this.productDetailsLink.setAttribute("href",product.detailsUri),this.productDetailsLink.textContent=product.detailsText,this.productInformationSheet.setAttribute("href",product.infoSheetUri),this.productInformationSheet.textContent=product.infoSheetText,this.priceDisplay.textContent=product.priceFormatted,this.taxDisplay.textContent="inkl. "+product.tax+product.currency+" VerSt",this.paymentInterval.textContent="pro "+product.paymentInterval,this.advantagesList.innerHTML="",this.servicesList.innerHTML="",product.services.forEach(function(service){var listElement=_this5.createListElement(service);_this5.servicesList.appendChild(listElement)}),product.advantages.forEach(function(advantage){var listElement=_this5.createListElement(advantage);_this5.advantagesList.appendChild(listElement)})}},{key:"createListElement",value:function createListElement(listItem){var listElement=document.createElement("li");listElement.classList.add("advantages__item","advantages__item--included");var spanElement=document.createElement("span");return spanElement.innerText=listItem,spanElement.classList.add("advantages__icon","advantages__icon--included","advantages__icon--check"),listElement.appendChild(spanElement),listElement}},{key:"disconnectedCallback",value:function disconnectedCallback(){console.log("disconnected")}},{key:"devicePrice",set:function set(devicePrice){this.setAttribute("data-device-price",devicePrice)}},{key:"deviceId",set:function set(deviceId){this.setAttribute("data-device-id",deviceId)}}]),WertgarantiePolicySelection;var _fetchPolicy}();window.customElements.define("wertgarantie-policy-selection",WertgarantiePolicySelection)}()}},[[277,1,2]]]);
//# sourceMappingURL=main.bf96033a8e56be82ce14.bundle.js.map