<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../../../stories/assets/css/selection-popup.css">
</head>
<body>

    <button id="default-component-button">Default Component</button>
    <wertgarantie-selection-pop-up id="default-component"
        data-shop-product-name="Phone X"
        data-bifrost-uri="https://wertgarantie-bifrost.herokuapp.com/wertgarantie">
    </wertgarantie-selection-pop-up>


    <button id="invalid-fetch-uri-button">Invalid Fetch Uri</button>
    <wertgarantie-selection-pop-up id="invalid-fetch-uri"
        class="example1"
        data-shop-product-name="Phone X"
        data-bifrost-uri="https://www.google.com">
    </wertgarantie-selection-pop-up>


    <button id="incomplete-displayData-button">Incomplete display data</button>
    <wertgarantie-selection-pop-up id="incomplete-displayData"
        class="example1"
        data-shop-product-name="Phone X"
        data-bifrost-uri="https://www.google.com">
    </wertgarantie-selection-pop-up>


    <script src="../dist/selection-popup.min.js"></script>
    <script>
        var defaultComponent = document.querySelector("#default-component");
        defaultComponent.devicePrice = 1000;
        defaultComponent.deviceClass = "1dfd4549-9bdc-4285-9047-e5088272dade";
        defaultComponent.clientId = "5209d6ea-1a6e-11ea-9f8d-778f0ad9137f";

        var defaultComponentBtn = document.querySelector('#default-component-button');
        defaultComponentBtn.addEventListener('click', () => {
            window.wertgarantieSelectionPopUpOpen('#' + defaultComponent.id);
        });


        var invalidFetchUri = document.querySelector("#invalid-fetch-uri");
        invalidFetchUri.devicePrice = 1000;
        invalidFetchUri.deviceClass = "1dfd4549-9bdc-4285-9047-e5088272dade";
        invalidFetchUri.clientId = "5209d6ea-1a6e-11ea-9f8d-778f0ad9137f";

        var invalidFetchUriBtn = document.querySelector('#invalid-fetch-uri-button');
        invalidFetchUriBtn.addEventListener('click', () => {
            window.wertgarantieSelectionPopUpOpen('#' + invalidFetchUri.id);
        });

        const data = {
            "title":
                "Vergessen Sie nicht Ihren Rundumschutz", "products":
                [{
                    "id": 11,
                    "name": "Schutzpaket Basis",
                    "top_3": ["Für private und berufliche Nutzung", "Unsachgemäße Handhabung", "Weltweiter Schutz"],
                    "advantages": ["Volle Kostenübernahme bei Reparaturen (inkl. Fall- und Sturzschäden, Displaybrücken und Bruchschäden, Bedienfehlern, Motor-Lagerschäden, Wasserschäden, Elektronikschäden, Verkalkung, Verschleiß, uvm.)", "Bei Totalschaden zählt der Zeitwert", "Für private und berufliche Nutzung", "Weltweiter Schutz", "Geräte bis 12 Monate nach Kaufdatum gelten als Neugeräte", "Unsachgemäße Handhabung (beispielsweise durch abweichende Benutzung von der Gebrauchsanwendung)"],
                    "excludedAdvantages": ["Cyberschutz bei Missbrauch von Online-Accounts und Zahlungsdaten", "Diebstahlschutz", "Keine Selbstbeteiligung im Schadensfall", "einfacher Diebstahl"],
                    "infoSheetText": "Informationsblatt für Versicherungsprodukte",
                    "infoSheetUri": "https://stage-api.wertgarantie.com/download/b5cf7159-264e-4f0a-a6df-485f62afb814",
                    "detailsDocText": "Allgemeine Versicherungsbedingungen",
                    "detailsDocUri": "https://stage-api.wertgarantie.com/download/76c4e67c-89bf-4bd4-a1d2-b6470ed07629",
                    "paymentInterval": "monatl.",
                    "price": "9,95",
                    "currency": "€",
                    "priceFormatted": "ab 9,95 €",
                    "tax": "1,59",
                    "taxFormatted": "(inkl. 1,59€ VerSt**)",
                    "imageLink": "https://wertgarantie-bifrost.s3.eu-central-1.amazonaws.com/utah-mountain-biking-bike-biking-71104.jpeg"
                }, {
                    "id": 14,
                    "name": "Schutzpaket Premium inkl. Diebstahlschutz",
                    "top_3": ["Schutz vor Diebstahl", "Schutz vor Displaybrüchen", "Schutz vor Wasserschäden"],
                    "advantages": ["Cyberschutz bei Missbrauch von Online-Accounts und Zahlungsdaten", "Diebstahlschutz", "Keine Selbstbeteiligung im Schadensfall", "Volle Kostenübernahme bei Reparaturen (inkl. Fall- und Sturzschäden, Displaybrücken und Bruchschäden, Bedienfehlern, Motor-Lagerschäden, Wasserschäden, Elektronikschäden, Verkalkung, Verschleiß, uvm.)", "Bei Totalschaden zählt der Zeitwert", "Für private und berufliche Nutzung", "Weltweiter Schutz", "Geräte bis 12 Monate nach Kaufdatum gelten als Neugeräte", "Unsachgemäße Handhabung (beispielsweise durch abweichende Benutzung von der Gebrauchsanwendung)", "einfacher Diebstahl"],
                    "excludedAdvantages": [],
                    "infoSheetText": "Informationsblatt für Versicherungsprodukte",
                    "infoSheetUri": "https://stage-api.wertgarantie.com/download/b17f85d5-58c1-416c-869f-85ff572afd9c",
                    "detailsDocText": "Allgemeine Versicherungsbedingungen",
                    "detailsDocUri": "https://stage-api.wertgarantie.com/download/49b77b3d-a949-4fa9-8c51-34edadfa959d",
                    "paymentInterval": "monatl.",
                    "price": "11,95",
                    "priceFormatted": "ab 11,95 €",
                    "tax": "1,91",
                    "taxFormatted": "(inkl. 1,91€ VerSt**)",
                    "imageLink": "https://wertgarantie-bifrost.s3.eu-central-1.amazonaws.com/eBike-HP.jpeg"
                }]
        };

        var incompletedisplayData = document.querySelector("#incomplete-displayData");
        incompletedisplayData.devicePrice = 1000;
        incompletedisplayData.deviceClass = "1dfd4549-9bdc-4285-9047-e5088272dade";
        incompletedisplayData.clientId = "5209d6ea-1a6e-11ea-9f8d-778f0ad9137f";

        var incompletedisplayDataBtn = document.querySelector('#incomplete-displayData-button');
        incompletedisplayDataBtn.addEventListener('click', () => {
            window.wertgarantieSelectionPopUpOpen('#' + incompletedisplayData.id, data);
        });


    </script>
</body>
</html>